/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={402:(t,e,n)=>{n.d(e,{Z:()=>c});var r=n(537),o=n.n(r),i=n(645),a=n.n(i)()(o());a.push([t.id,'* {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  color: white;\n}\n\nhtml,\nbody {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  background-color: bisque;\n}\n\n#main-content {\n  height: 100vh;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n}\n\n#main-content .game-space {\n  height: 600px;\n  width: 600px;\n  border: 1px solid black;\n  border-radius: 1em;\n\n  display: grid;\n  grid-template: auto / 2fr 1fr;\n  align-items: center;\n  background-color: azure;\n}\n\n#main-content .game-space .board-list {\n  padding: 1em;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 2em;\n}\n\n.game-board {\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  padding: 0.5em;\n  border: 1px solid black;\n}\n\n.board-lock {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(128, 128, 128, 0.75);\n}\n\n.game-board .board-cell {\n  display: inline-block;\n  border: 1px solid black;\n}\n\n#main-content .game-information {\n  height: 600px;\n  display: grid;\n  grid-template-rows: repeat(2, 1fr);\n  gap: 1em;\n  border-radius: 0 1em 1em 0;\n  border: 1px solid black;\n  background-color: black;\n}\n\n.game-information .player-name-list {\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 1em;\n\n  .player-name {\n    display: flex;\n    text-align: center;\n    padding: 0.5em;\n    color: white;\n    font-weight: 700;\n  }\n}\n\n.game-information .event-log {\n  height: 80%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 1em;\n\n  border: 1px solid white;\n}\n\n@media screen and (min-width: 700px) {\n  #main-content .game-space {\n    width: 800px;\n  }\n}\n',"",{version:3,sources:["webpack://./src/css/style.css"],names:[],mappings:"AAAA;EACE,4DAA4D;EAC5D,YAAY;AACd;;AAEA;;EAEE,UAAU;EACV,SAAS;AACX;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,aAAa;EACb,aAAa;EACb,mBAAmB;EACnB,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,YAAY;EACZ,uBAAuB;EACvB,kBAAkB;;EAElB,aAAa;EACb,6BAA6B;EAC7B,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,qBAAqB;EACrB,2DAA2D;EAC3D,QAAQ;AACV;;AAEA;EACE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,WAAW;EACX,YAAY;EACZ,2CAA2C;AAC7C;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,aAAa;EACb,kCAAkC;EAClC,QAAQ;EACR,0BAA0B;EAC1B,uBAAuB;EACvB,uBAAuB;AACzB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,YAAY;;EAEZ;IACE,aAAa;IACb,kBAAkB;IAClB,cAAc;IACd,YAAY;IACZ,gBAAgB;EAClB;AACF;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,QAAQ;EACR,YAAY;;EAEZ,uBAAuB;AACzB;;AAEA;EACE;IACE,YAAY;EACd;AACF",sourcesContent:['* {\n  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  color: white;\n}\n\nhtml,\nbody {\n  padding: 0;\n  margin: 0;\n}\n\nbody {\n  background-color: bisque;\n}\n\n#main-content {\n  height: 100vh;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n}\n\n#main-content .game-space {\n  height: 600px;\n  width: 600px;\n  border: 1px solid black;\n  border-radius: 1em;\n\n  display: grid;\n  grid-template: auto / 2fr 1fr;\n  align-items: center;\n  background-color: azure;\n}\n\n#main-content .game-space .board-list {\n  padding: 1em;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 2em;\n}\n\n.game-board {\n  position: relative;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  padding: 0.5em;\n  border: 1px solid black;\n}\n\n.board-lock {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(128, 128, 128, 0.75);\n}\n\n.game-board .board-cell {\n  display: inline-block;\n  border: 1px solid black;\n}\n\n#main-content .game-information {\n  height: 600px;\n  display: grid;\n  grid-template-rows: repeat(2, 1fr);\n  gap: 1em;\n  border-radius: 0 1em 1em 0;\n  border: 1px solid black;\n  background-color: black;\n}\n\n.game-information .player-name-list {\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 1em;\n\n  .player-name {\n    display: flex;\n    text-align: center;\n    padding: 0.5em;\n    color: white;\n    font-weight: 700;\n  }\n}\n\n.game-information .event-log {\n  height: 80%;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n  padding: 1em;\n\n  border: 1px solid white;\n}\n\n@media screen and (min-width: 700px) {\n  #main-content .game-space {\n    width: 800px;\n  }\n}\n'],sourceRoot:""}]);const c=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(a[u]=!0)}for(var l=0;l<t.length;l++){var s=[].concat(t[l]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),e.push(s))}},e}},537:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},379:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],c=0;c<t.length;c++){var u=t[c],l=r.base?u[0]+r.base:u[0],s=i[l]||0,f="".concat(l," ").concat(s);i[l]=s+1;var p=n(f),h={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var d=o(h,r);r.byIndex=c,e.splice(c,0,{identifier:f,updater:d,references:1})}a.push(f)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var c=n(i[a]);e[c].references--}for(var u=r(t,o),l=0;l<i.length;l++){var s=n(i[l]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}i=u}}},569:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{var t=n(379),e=n.n(t),r=n(795),o=n.n(r),i=n(569),a=n.n(i),c=n(565),u=n.n(c),l=n(216),s=n.n(l),f=n(589),p=n.n(f),h=n(402),d={};function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E(r.key),r)}}function b(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e,n){return(e=E(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===y(e)?e:String(e)}function x(t,e,n){C(t,e),e.set(t,n)}function C(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}function k(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,B(t,e,"get"))}function B(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}d.styleTagTransform=p(),d.setAttributes=u(),d.insert=a().bind(null,"head"),d.domAPI=o(),d.insertStyleElement=s(),e()(h.Z,d),h.Z&&h.Z.locals&&h.Z.locals;var j=new WeakMap,M=new WeakMap,L=new WeakMap,P=new WeakMap,O=new WeakMap,T=new WeakSet,I=new WeakMap,_=new WeakMap,W=new WeakMap,z=b((function t(e){var n,r,o,i,a=this;A(this,t),C(this,n=T),n.add(this),x(this,j,{writable:!0,value:[]}),x(this,M,{writable:!0,value:[]}),x(this,L,{writable:!0,value:function(t){var e,n=m(k(a,M));try{for(n.s();!(e=n.n()).done;)if(e.value.shipId===t)return!1}catch(t){n.e(t)}finally{n.f()}return!0}}),x(this,P,{writable:!0,value:function(){for(var t=Math.round(999*Math.random());!k(a,L).call(a,t);)t=Math.round(999*Math.random());return t}}),x(this,O,{writable:!0,value:function(t){for(var e=[],n=0;n<t;n++){for(var r=[],o=0;o<t;o++)r.push(0);e.push(r)}return e}}),x(this,I,{writable:!0,value:function(t,e){k(a,M).push(new N(t,e))}}),x(this,_,{writable:!0,value:function(t,e){for(var n=k(a,P).call(a),r=e.x;r<=e.x+(t.length-1);r++)if(!a.isValidMove({x:r,y:e.y},!0))return!1;for(var o=e.x;o<=e.x+(t.length-1);o++)S(a,T,G).call(a,n,o,e.y);return k(a,I).call(a,t,n),!0}}),x(this,W,{writable:!0,value:function(t,e){for(var n=k(a,P).call(a),r=e.y;r<=e.y+(t.length-1);r++)if(!a.isValidMove({x:e.x,y:r},!0))return!1;for(var o=e.y;o<=e.y+(t.length-1);o++)S(a,T,G).call(a,n,e.x,o);return k(a,I).call(a,t,n),!0}}),w(this,"getBoard",(function(){return k(a,j).slice()})),w(this,"getShips",(function(){return k(a,M).slice()})),w(this,"getDataAt",(function(t){return t.x<0||t.x>a.size-1||t.y<0||t.y>a.size-1?null:k(a,j)[t.y][t.x]})),w(this,"getString",(function(){for(var t="",e=0;e<a.size;e++){for(var n="",r=0;r<a.size;r++)n+=k(a,j)[e][r]+" ";t+="".concat(n,"\n")}return t})),w(this,"printBoard",(function(){console.log(a.getString())})),w(this,"isValidMove",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t.x<0||t.x>a.size-1||t.y<0||t.y>a.size-1||k(a,j)[t.y][t.x]<=-1||e&&k(a,j)[t.y][t.x]>=1)})),w(this,"placeShip",(function(t,e,n){return n?k(a,W).call(a,t,e):k(a,_).call(a,t,e)})),w(this,"hasAllShipSunk",(function(){var t,e=m(k(a,M));try{for(e.s();!(t=e.n()).done;)if(!1===t.value.ship.isSunk())return!1}catch(t){e.e(t)}finally{e.f()}return!0})),w(this,"receiveAttack",(function(t){if(!a.isValidMove(t))return!1;if(0!=k(a,j)[t.y][t.x]){var e,n=m(k(a,M));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.shipId===k(a,j)[t.y][t.x])return r.ship.hit(),S(a,T,G).call(a,-2,t.x,t.y),r.ship}}catch(t){n.e(t)}finally{n.f()}}return S(a,T,G).call(a,-1,t.x,t.y),!0})),this.size=e,r=this,o=j,i=k(this,O).call(this,e),function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(r,B(r,o,"set"),i)}));function G(t,e,n){k(this,j)[n][e]=t}var N=b((function t(e,n){A(this,t),this.ship=e,this.shipId=n}));function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function q(t,e,n){return e&&Y(t.prototype,e),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function V(t,e,n){return(e=U(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===F(e)?e:String(e)}function R(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Z(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Q(t,e,"get"))}function D(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Q(t,e,"set"),n),n}function Q(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var X=new WeakMap,H=new WeakMap,$=q((function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),R(this,X,{writable:!0,value:void 0}),R(this,H,{writable:!0,value:void 0}),V(this,"getHitCount",(function(){return Z(n,X)})),V(this,"hit",(function(){D(n,X,Z(n,X)+1)})),V(this,"isSunk",(function(){return Z(n,X)>=n.length?D(n,H,!0):D(n,H,!1),Z(n,H)})),e<=0)throw new Error("invalid ship length of ".concat(e));this.length=e,D(this,X,0),D(this,H,!1)}));function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function tt(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e,n){return(e=rt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===J(e)?e:String(e)}function ot(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function it(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,ct(t,e,"get"))}function at(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,ct(t,e,"set"),n),n}function ct(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var ut=new WeakMap,lt=new WeakMap,st=new WeakMap,ft=tt((function t(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];et(this,t),ot(this,ut,{writable:!0,value:void 0}),ot(this,lt,{writable:!0,value:function(){for(var t={x:Math.round(Math.random()*(it(r,ut)-1)),y:Math.round(Math.random()*(it(r,ut)-1))};!r.board.isValidMove(t,!0);)t={x:Math.round(Math.random()*(it(r,ut)-1)),y:Math.round(Math.random()*(it(r,ut)-1))};return t}}),ot(this,st,{writable:!0,value:function(t,e,n){return[r.board.isValidMove({x:t.x+1,y:t.y},!0),r.board.isValidMove({x:t.x-1,y:t.y},!0),r.board.isValidMove({x:t.x,y:t.y+1},!0),r.board.isValidMove({x:t.x,y:t.y-1},!0)]}}),nt(this,"addRandomShips",(function(t){for(var e=t>Math.pow(it(r,ut),2)-1?Math.pow(it(r,ut),2)-1:t,n=it(r,ut)>5?5:it(r,ut),o=0;o<e;o++){for(var i=new $(Math.round(Math.random()*(n-1)+1)),a=Math.random()<.5,c=it(r,lt).call(r),u=it(r,st).call(r,c);u.filter((function(t){return t})).length<2;)c=it(r,lt).call(r),u=it(r,st).call(r,c);r.board.placeShip(i,c,a)}})),this.name=e,at(this,ut,n),this.board=new z(n),o&&(this.computer=new yt)})),pt=new WeakMap,ht=new WeakMap,dt=new WeakMap,yt=tt((function t(){var e=this;et(this,t),ot(this,pt,{writable:!0,value:null}),ot(this,ht,{writable:!0,value:function(t){if(t<=0)throw new Error("invalid board size!");if(null!=it(e,pt)){var n=Math.random()<.5,r=Math.random()<.5?1:-1;if(n){var o=it(e,pt).y+r;return{x:it(e,pt).x,y:o}}return{x:it(e,pt).x+r,y:it(e,pt).y}}return{x:Math.round(Math.random()*(t-1)),y:Math.round(Math.random()*(t-1))}}}),ot(this,dt,{writable:!0,value:function(t){for(var e=t.getBoard(),n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)if(t.isValidMove({x:r,y:n}))return{x:r,y:n};return{x:0,y:0}}}),nt(this,"performAutomateAttack",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=n&&at(e,pt,n);for(var r=t.board,o=it(e,ht).call(e,r.size),i=0;!r.isValidMove(o);){if(i>10){o=it(e,dt).call(e,r);break}o=it(e,ht).call(e,r.size),i++}var a=r.receiveAttack(o);return"object"===J(a)?at(e,pt,o):at(e,pt,null),a}))}));function mt(t,e){var n=document.querySelector('.game-board[data-player-name="'.concat(t.name,'"]')),r=null!=t.computer,o=e||r;n.replaceWith(At(t,o))}function vt(t){var e=document.querySelector('.game-board[data-player-name="'.concat(t.name,'"] .board-lock'));"block"===e.style.display?e.style.display="none":e.style.display="block"}function gt(t){var e=document.querySelector(".player-name-list"),n=document.createElement("div"),r=null!=t.computer?"CPU":"Player";n.classList.toggle("player-name"),n.textContent="".concat(t.name," (").concat(r,")"),e.append(n)}function bt(t,e){var n=document.querySelector(".board-list"),r=null!=t.computer,o=e||r;n.append(At(t,o))}function At(t,e){var n=t.board.getBoard(),r=document.createElement("div");r.setAttribute("data-player-name",t.name),r.classList.toggle("game-board");var o=document.createElement("div");o.classList.toggle("board-lock"),o.style.display="none",r.append(o),null!=t.computer?r.style.backgroundColor="#312e81":r.style.backgroundColor="#15803d",r.style.gridTemplate="repeat(".concat(t.board.size,",1fr) / repeat(").concat(t.board.size,",1fr)");for(var i=0;i<t.board.size;i++)for(var a=0;a<t.board.size;a++){var c=wt(n[i][a],a,i,e);r.append(c)}return r}function wt(t,e,n,r){var o=document.createElement("div");return o.style.display="inline-block",o.style.width="".concat(16,"px"),o.style.height="".concat(16,"px"),o.setAttribute("data-x",e),o.setAttribute("data-y",n),o.classList.toggle("board-cell"),o.style.backgroundColor=t>=1&&!1===r?"#94a3b8":-1===t?"#dc2626":t<-1?"#22c55e":"#164e63",o}var Et=function(t){return new Promise((function(e){setTimeout((function(){return e()}),t)}))};function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Ct(){Ct=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(r||[]);return o(a,"_invoke",{value:k(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",m={};function v(){}function g(){}function b(){}var A={};l(A,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(P([])));E&&E!==n&&r.call(E,a)&&(A=E);var x=b.prototype=v.prototype=Object.create(A);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==xt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=B(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function B(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(xt(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function St(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var kt=[];function Bt(t){var e=document.querySelector(".event-log"),n=document.createElement("div");n.classList.toggle("event"),n.textContent=t,kt.push(n),function(t){jt.apply(this,arguments)}(e)}function jt(){var t;return t=Ct().mark((function t(e){var n;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=kt.shift(),e.append(n),e.scrollTo(0,e.scrollHeight),t.next=5,Et(100);case 5:case"end":return t.stop()}}),t)})),jt=function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){St(i,r,o,a,c,"next",t)}function c(t){St(i,r,o,a,c,"throw",t)}a(void 0)}))},jt.apply(this,arguments)}function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Lt(){Lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i=e&&e.prototype instanceof v?e:v,a=Object.create(i.prototype),c=new L(r||[]);return o(a,"_invoke",{value:k(t,n,c)}),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",m={};function v(){}function g(){}function b(){}var A={};l(A,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(P([])));E&&E!==n&&r.call(E,a)&&(A=E);var x=b.prototype=v.prototype=Object.create(A);function C(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==Mt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,n,r){var o=p;return function(i,a){if(o===d)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=B(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=d;var l=f(e,n,r);if("normal"===l.type){if(o=r.done?y:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function B(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,B(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Mt(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},C(S.prototype),l(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new S(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;M(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Pt(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function Ot(t,e){if(t){if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(t,e):void 0}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wt(r.key),r)}}function _t(t,e,n){return(e=Wt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wt(t){var e=function(t,e){if("object"!==Mt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===Mt(e)?e:String(e)}function zt(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function Gt(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,Ft(t,e,"get"))}function Nt(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,Ft(t,e,"set"),n),n}function Ft(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var Yt=new WeakMap,qt=new WeakMap,Vt=new WeakMap,Ut=function(){function t(e){var n,r=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zt(this,Yt,{writable:!0,value:[]}),zt(this,qt,{writable:!0,value:null}),zt(this,Vt,{writable:!0,value:function(){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ot(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(Gt(r,Yt));try{for(e.s();!(t=e.n()).done;)if(null!=t.value.computer)return!1}catch(t){e.e(t)}finally{e.f()}return!0}}),_t(this,"shouldEndGame",(function(){return!!Gt(r,Yt)[1].board.hasAllShipSunk()&&(r.gameOver=!0,Nt(r,qt,Gt(r,Yt)[0]),!0)})),_t(this,"advanceTurn",(function(){if(!r.shouldEndGame()){if(r.comboFlag)return console.log("combo"),void(r.comboFlag=!1);var t=Gt(r,Yt)[0];Gt(r,Yt).shift(),Gt(r,Yt).push(t)}})),_t(this,"preGameAction",(function(t){return new Promise((function(e,n){t(Gt(r,Yt),(function(){e()}))}))})),_t(this,"postGameAction",(function(t){return new Promise((function(e,n){t(Gt(r,Yt),Gt(r,qt),(function(){e()}))}))})),_t(this,"turnAction",(function(t){return new Promise((function(e,n){t(Gt(r,Yt)[0],Gt(r,Yt)[1],(function(){r.advanceTurn(),e()}))}))})),e.length>2)throw new Error("more than 2 player not support!");Nt(this,Yt,function(t){if(Array.isArray(t))return Tt(t)}(n=e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||Ot(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.gameOver=!1,this.comboFlag=!1,this.isPvP=Gt(this,Vt).call(this)}var e,n,r,o;return e=t,n=[{key:"startGame",value:(r=Lt().mark((function t(e){var n,r,o,i,a,c,u,l;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.preAction,r=void 0===n?null:n,o=e.playerAction,i=e.computerAction,a=e.postAction,c=void 0===a?null:a,u=e.delay,l=void 0===u?null:u,null==r){t.next=4;break}return t.next=4,this.preGameAction(r);case 4:if(this.gameOver){t.next=17;break}if(null==Gt(this,Yt)[0].computer){t.next=13;break}if(null==l){t.next=9;break}return t.next=9,Et(l);case 9:return t.next=11,this.turnAction(i);case 11:t.next=15;break;case 13:return t.next=15,this.turnAction(o);case 15:t.next=4;break;case 17:if(null==c){t.next=20;break}return t.next=20,this.postGameAction(c);case 20:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Pt(i,n,o,a,c,"next",t)}function c(t){Pt(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return o.apply(this,arguments)})}],n&&It(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Zt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Dt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}!function(){var t=new ft("tom",10),e=new ft("jerry",10,!0);t.addRandomShips(25),e.addRandomShips(25);var n=new Ut([t,e]);n.startGame({preAction:function(t,e){var r,o=Zt(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;bt(i,n.isPvP),gt(i);var a=null!=i.computer?"CPU":"Player";Bt("".concat(i.name," enter the game as ").concat(a))}}catch(t){o.e(t)}finally{o.f()}vt(t[0]),Bt("game has started!"),e()},playerAction:function(t,e,r){!function(t,e){for(var n=Array.from(document.querySelectorAll('.game-board[data-player-name="'.concat(t.name,'"] .board-cell'))),r=function(){var t=i[o];t.addEventListener("click",(function(n){e(t)}))},o=0,i=n;o<i.length;o++)r()}(e,(function(o){n.gameOver&&n.postGameAction((function(t,e){var r,o=Zt(t);try{for(o.s();!(r=o.n()).done;)mt(r.value,n.isPvP)}catch(t){o.e(t)}finally{o.f()}console.log("game ended, ".concat(e.name," has won!"))}));var i=Number(o.getAttribute("data-x")),a=Number(o.getAttribute("data-y")),c=e.board.receiveAttack({x:i,y:a});!1!==c&&("object"===Rt(c)&&(n.comboFlag=!0,Bt("".concat(t.name," hit ").concat(e.name,"'s ship!"))),!0===c&&Bt("".concat(t.name," missed!")),mt(e,n.isPvP),!1===n.comboFlag&&(vt(t),vt(e)),r())}))},computerAction:function(t,e,r){var o=t.computer.performAutomateAttack(e);"object"===Rt(o)&&(n.comboFlag=!0,Bt("".concat(t.name," hit ").concat(e.name,"'s ship!"))),!0===o&&Bt("".concat(t.name," missed!")),mt(e,n.isPvP),!1===n.comboFlag&&(vt(t),vt(e)),r()},postAction:function(t,e,r){var o,i=Zt(t);try{for(i.s();!(o=i.n()).done;)mt(o.value,n.isPvP)}catch(t){i.e(t)}finally{i.f()}Bt("game ended, ".concat(e.name," has won!")),r()},delay:1e3})}()})()})();
//# sourceMappingURL=main.js.map